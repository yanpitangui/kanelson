@using Color = Kanelson.Shared.AnswerColor
@using Kanelson.Contracts.Models

@Render()

@code {

    [Parameter]
    public int Idx { get; set; }

    [Parameter]
    public Answer Answer { get; set; } = null!;
    
    [Parameter]
    public EventCallback<Guid> OnClickCallback {get; set;}


    private AnswerColor _answerColor;


    protected override void OnInitialized()
    {
        base.OnInitialized();
        _answerColor = AnswerColor.GetColor(Idx);
    }

    private async Task OnClick()
    {
        await OnClickCallback.InvokeAsync(Answer.Id);
    }
    
    RenderFragment Render()
    {
        var style = $"background: {_answerColor?.Code} !important";
        return @<MudPaper Style=@style Class="e-paper d-flex align-center justify-center mud-width-full py-8" @onclick="@OnClick">
                    @Answer.Description
                </MudPaper>;
    }
    
}